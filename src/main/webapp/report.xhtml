<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="WEB-INF/templates/admin.xhtml">

	<ui:define name="content">
		<h2>Report</h2>


		<h:form>
			<div class="dateInput">
				Start date:
				<p:calendar value="#{adminBean.date1}" pattern="MM/dd/yyyy" />
			</div>
			<div class="dateInput">
				Finish date:
				<p:calendar value="#{adminBean.date2}" pattern="MM/dd/yyyy" />
			</div>
			<div class="dateInput">
				<h:commandLink action="#{adminBean.refreshReport}">
					<h:graphicImage value="resources/order.ico" height="16" width="16"
						title="Edit" />
				</h:commandLink>
			</div>
			<br />
			<br />
			<div class="dataTable">
				<div class="dataTableLeft">
					<p:panelGrid columns="1">
					Arrivals for this period
					<p:dataTable value="#{adminBean.arrivals}" var="arrivals"
							styleClass="arrivalsTable" headerClass="arrivalsTableHeader"
							rowClasses="arrivalsTableOddRow, arrivalsTableEvenRow">
							<p:column>
								<f:facet name="header">Id</f:facet> 
						#{arrivals.arrival_id} 
					</p:column>
							<p:column>
								<f:facet name="header">Sum of arrival</f:facet> 
						#{arrivals.arrival_sum} 
					</p:column>
							<p:column>
								<f:facet name="header">Order Date</f:facet>
								<p:outputLabel value="#{arrivals.arrival_OrderDate}">
									<f:convertDateTime pattern="MM/dd/yyyy" />
								</p:outputLabel>
							</p:column>
						</p:dataTable>
						<h:outputLabel>Total sum spent this period: #{adminBean.totalSumIn}</h:outputLabel>
					</p:panelGrid>
				</div>

				<div class="dataTableRight">
					<p:panelGrid columns="1">
				Payments for this period
					<p:dataTable value="#{adminBean.payments}" var="payments"
							styleClass="paymentsTable" headerClass="paymentsTableHeader"
							rowClasses="paymentsTableOddRow, paymentsTableEvenRow">
							<p:column>
								<f:facet name="header">Id</f:facet> 
							#{payments.payment_id} 
						</p:column>
							<p:column>
								<f:facet name="header">Sum of arrival</f:facet> 
								#{payments.payment_sum} 
						</p:column>
							<p:column>
								<f:facet name="header">Order Date</f:facet>
								<p:outputLabel value="#{payments.payment_date}">
									<f:convertDateTime pattern="MM/dd/yyyy" />
								</p:outputLabel>
							</p:column>

							<p:column>
								<f:facet name="header">Customer name</f:facet> 
						#{payments.customer.customer_Name} 
					</p:column>
						</p:dataTable>
						<h:outputLabel>Total sum earned this period: #{adminBean.totalSumOut}</h:outputLabel>
					</p:panelGrid>
				</div>
			</div>

		</h:form>
	</ui:define>
</ui:composition>
</html>